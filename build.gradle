plugins {
    id 'groovy'
    id 'application'
}

group 'dex.mcgitmaker'
version '0.1.0-SNAPSHOT'

repositories {
    maven {
        name = 'Fabric'
        url = 'https://maven.fabricmc.net/'
    }
    maven {
        name = 'Cotton'
        url = 'https://server.bbkr.space/artifactory/libs-release/'
    }
    maven {
        url = "https://maven.quiltmc.org/repository/release"
    }
    mavenCentral()
}

tasks.withType(JavaCompile).configureEach {
    it.options.encoding = "UTF-8"
    it.options.release = 8
}

application {
    mainClass = 'dex.mcgitmaker.GitCraft'
}

dependencies {
    implementation 'org.codehaus.groovy:groovy-all:3.0.9'

    // Loader and its deps
    implementation "net.fabricmc:fabric-loader:0.+"
    implementation "org.ow2.asm:asm:${project.asm_version}"
    implementation "org.ow2.asm:asm-analysis:${project.asm_version}"
    implementation "org.ow2.asm:asm-commons:${project.asm_version}"
    implementation "org.ow2.asm:asm-tree:${project.asm_version}"
    implementation "org.ow2.asm:asm-util:${project.asm_version}"

    implementation('net.fabricmc:stitch:0.6.1') {
        exclude module: 'enigma'
    }

    // tinyfile management
    implementation('net.fabricmc:tiny-remapper:0.7.0')
    implementation 'net.fabricmc:access-widener:2.1.0'
    implementation 'net.fabricmc:mapping-io:0.2.1'

    implementation('net.fabricmc:lorenz-tiny:4.0.2') {
        transitive = false
    }

    // https://mvnrepository.com/artifact/org.eclipse.jgit/org.eclipse.jgit
    implementation 'org.eclipse.jgit:org.eclipse.jgit:6.0.0.202111291000-r'

    // Decompiler, could be replaced with another fernflower fork
    implementation 'org.quiltmc:quiltflower:1.+'
}